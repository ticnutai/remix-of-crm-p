# מערכת ניהול קבצים מתקדמת - מדריך מלא

## 🎯 סקירה כללית

מערכת ניהול קבצים מתקדמת ומודרנית עם תכונות חכמות ומתקדמות.

## ✨ תכונות עיקריות

### 1. העלאת קבצים מתקדמת
- **Drag & Drop** - גרור ושחרר קבצים ישירות מהמחשב
- **העלאה מרובה** - העלה עד 10 קבצים בו-זמנית
- **Progress Bar** - עקוב אחרי התקדמות ההעלאה
- **תצוגה מקדימה** - ראה תמונות לפני ההעלאה
- **תמיכה בכל סוגי הקבצים**: תמונות, מסמכים, וידאו, אודיו, ארכיונים

### 2. תצוגה מקדימה (Preview)
- **תמונות**: Zoom, סיבוב, מסך מלא
- **PDF**: תצוגה ישירה עם אופציות זום
- **וידאו**: נגן מובנה עם controls
- **אודיו**: נגן אודיו מתקדם
- **ניווט**: מעבר בין קבצים עם חיצים (במקלדת או עכבר)

### 3. חיפוש וסינון מתקדם
- **חיפוש טקסט חופשי** בשם קובץ
- **סינון לפי סוג קובץ**: תמונות, מסמכים, וידאו, אודיו, אחר
- **סינון לפי תגיות**: בחירה מרובה של תגיות
- **טווח תאריכים**: מתאריך X עד תאריך Y
- **טווח גדלים**: מינימום ומקסימום ב-MB
- **מיון**: לפי שם, תאריך, גודל, הורדות (עולה/יורד)
- **מסננים מהירים**: השבוע, החודש, קבצים גדולים

### 4. סטטיסטיקות ודוחות
- **סה"כ קבצים** ונפח מאוחסן
- **שימוש באחסון** עם Progress Bar
- **קבצים לפי סוג** עם גרפים צבעוניים
- **תגיות פופולריות**
- **העלאות אחרונות**
- **קבצים מובילים** (לפי הורדות וצפיות)
- **גרף העלאות לפי חודש**

### 5. שיתוף ושיתוף פעולה
- **שיתוף עם משתמשים**: שלח גישה למשתמשים ספציפיים
- **הרשאות**: צפייה בלבד או עריכה
- **קישור ציבורי**: צור קישור לשיתוף חיצוני
- **תוקף מוגבל**: קישורים עם תפוגה (שעה, יום, שבוע, חודש)
- **רשימת משתמשים**: ראה מי קיבל גישה לקובץ

### 6. ניהול ותגיות
- **כוכב (Favorite)**: סמן קבצים חשובים
- **תגיות**: הוסף תגיות לארגון טוב יותר
- **תיקיות**: ארגן קבצים בתיקיות
- **גרסאות**: שמור גרסאות שונות של קובץ
- **מעקב**: מי הוריד והאם הקובץ נצפה

## 📋 תרחישי שימוש

### העלאת קבצים
1. לחץ על "העלה קבצים" בראש הדף
2. גרור קבצים לאזור המסומן
3. או לחץ לבחירת קבצים ידנית
4. עקוב אחרי התקדמות ההעלאה
5. הקבצים יופיעו בגריד/רשימה

### צפייה בקובץ
1. לחץ על קובץ כדי לפתוח Preview
2. השתמש ב-Zoom (+ /-) לתמונות
3. סובב תמונה עם כפתור "סובב"
4. עבור למסך מלא
5. נווט בין קבצים עם החיצים

### חיפוש קבצים
1. עבור לטאב "חיפוש"
2. הכנס טקסט בשורת החיפוש
3. לחץ על "סינון" לסינון מתקדם
4. בחר סוג קובץ, תגיות, תאריכים, גדלים
5. לחץ "חפש" לביצוע החיפוש
6. הקבצים יוצגו לפי הפילטרים

### שיתוף קובץ
1. לחץ על תפריט הנקודות (...) ליד קובץ
2. בחר "שיתוף"
3. הזן כתובות דוא"ל של משתמשים
4. בחר הרשאה (צפייה/עריכה)
5. או צור קישור ציבורי
6. הגדר תוקף לקישור (אופציונלי)
7. לחץ "שתף"

### ניהול קבצים
- **הורדה**: תפריט (...) → הורדה
- **מחיקה**: תפריט (...) → מחק
- **כוכב**: תפריט (...) → הוסף למועדפים
- **תגיות**: תפריט (...) → ערוך תגיות

## 🎨 תצוגות

### תצוגת גריד (Grid)
- כרטיסים מרובעים עם תמונות preview
- מושלם לתמונות וקבצים חזותיים
- 6 קבצים בשורה (במסך גדול)
- מידע מינימלי - מתאים לסקירה מהירה

### תצוגת רשימה (List)
- שורה אחת לכל קובץ
- מידע מפורט: שם, גודל, תאריך, הורדות
- תגיות גלויות
- מתאים לניהול מסמכים

## 🔧 הגדרות טכניות

### גדלי קבצים
- **מקסימום לקובץ**: 50MB (ברירת מחדל)
- **מקסימום בהעלאה**: 10 קבצים בו-זמנית
- **אחסון כולל**: 100GB (לפי חשבון)

### סוגי קבצים נתמכים
- **תמונות**: JPG, PNG, GIF, WEBP, SVG
- **מסמכים**: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX
- **וידאו**: MP4, MOV, AVI, MKV
- **אודיו**: MP3, WAV, OGG, M4A
- **ארכיונים**: ZIP, RAR, 7Z
- **קוד**: JS, TS, HTML, CSS, JSON, MD
- **אחר**: TXT, CSV, XML

### תגיות
- כל קובץ יכול לכלול תגיות מרובות
- תגיות עוזרות בחיפוש וארגון
- תגיות פופולריות מוצגות בסטטיסטיקות

## 📊 סטטיסטיקות זמינות

### קלפי סטטיסטיקה
1. **סך הכל קבצים** - מספר כולל
2. **נפח מאוחסן** - GB/MB בשימוש
3. **העלאות השבוע** - קבצים חדשים
4. **הורדות** - סך כל ההורדות

### גרפים
- **שימוש באחסון** - Progress Bar
- **קבצים לפי סוג** - קלפים צבעוניים
- **העלאות לפי חודש** - גרף טרנדים

### רשימות מובילות
- **העלאות אחרונות** - 5 הקבצים האחרונים
- **קבצים מובילים** - לפי הורדות וצפיות
- **תגיות פופולריות** - הכי שימושיות

## 🔐 אבטחה והרשאות

### הרשאות קובץ
- **בעלים (Owner)** - שליטה מלאה
- **עריכה (Edit)** - ערוך ושתף
- **צפייה (View)** - קריאה בלבד

### שיתוף בטוח
- שיתוף רק עם משתמשים רשומים
- קישורים עם תוקף מוגבל
- מעקב אחר גישה וצפיות
- אפשרות לביטול שיתוף

## 🚀 טיפים ושימושים מתקדמים

### ארגון יעיל
1. השתמש בתיקיות לפרויקטים שונים
2. הוסף תגיות עקביות לכל פרויקט
3. סמן קבצים חשובים בכוכב
4. מחק קבצים ישנים באופן קבוע

### חיפוש מהיר
- השתמש במסננים המהירים (השבוע, החודש)
- שמור חיפושים תכופים בתגיות
- סנן לפי סוג קובץ לניתוח מהיר

### שיתוף פעולה
- שתף תיקיות שלמות עם צוות
- השתמש בקישורים עם תוקף ללקוחות
- עקוב אחר הורדות וצפיות
- הוסף הערות בתיאור הקובץ

### ביצועים
- העלה קבצים בגדלים סבירים (עד 50MB)
- דחס ארכיונים גדולים לפני העלאה
- השתמש ב-thumbnail לתמונות גדולות
- נקה קבצים שלא בשימוש

## 🛠️ תחזוקה

### גיבוי אוטומטי
- כל הקבצים נגבים אוטומטית ל-Supabase Storage
- גרסאות קודמות נשמרות למשך 30 יום
- אפשרות לשחזור קבצים שנמחקו

### ניטור
- עקוב אחר שימוש באחסון
- קבל התראות כאשר מגיעים ל-80% מהמקום
- ראה דוחות שימוש חודשיים

## 📞 תמיכה

### בעיות נפוצות
**קובץ לא נטען?**
- בדוק שהקובץ קטן מ-50MB
- ודא שהסוג נתמך
- נסה שוב או רענן את הדף

**לא רואה תצוגה מקדימה?**
- וודא שהדפדפן תומך בסוג הקובץ
- נסה להוריד את הקובץ ולפתוח מקומית

**שיתוף לא עובד?**
- בדוק שהכתובת דוא"ל תקינה
- ודא שיש לך הרשאות שיתוף
- נסה קישור ציבורי במקום

---

## 📝 הערות למפתחים

### מבנה הקוד
```
src/
├── hooks/
│   └── useAdvancedFiles.ts          # Hook ראשי לניהול קבצים
├── components/
│   └── files/
│       ├── AdvancedFileUpload.tsx   # העלאת קבצים
│       ├── FilePreview.tsx          # תצוגה מקדימה
│       ├── FileStatsCard.tsx        # סטטיסטיקות
│       ├── AdvancedFileSearch.tsx   # חיפוש מתקדם
│       └── FileSharingDialog.tsx    # שיתוף קבצים
└── pages/
    └── AdvancedFiles.tsx            # דף ראשי
```

### API עיקרי
- `uploadFile(file, options)` - העלאת קובץ
- `uploadMultipleFiles(files)` - העלאה מרובה
- `downloadFile(file)` - הורדת קובץ
- `deleteFile(file)` - מחיקת קובץ
- `shareFile(fileId, users, permissions)` - שיתוף
- `createPublicLink(file, expiry)` - קישור ציבורי
- `search(filters)` - חיפוש מתקדם
- `getStatistics()` - סטטיסטיקות

### Dependencies
```json
{
  "react-dropzone": "^14.2.3",  // Drag & Drop
  "lucide-react": "latest"       // Icons
}
```

---

**גרסה**: 1.0.0  
**תאריך עדכון אחרון**: 2024-01-29  
**פותח על ידי**: צוות NCRM
